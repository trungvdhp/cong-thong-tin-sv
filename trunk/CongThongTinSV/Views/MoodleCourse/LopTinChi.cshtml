@using Kendo.Mvc.UI;
@using CongThongTinSV.Models;
@{
    ViewBag.Title = "Quản lý lớp tín chỉ trên Moodle";
}

@(Html.Kendo().DropDownList()
    .Name("HocKy")
    .OptionLabel("Chọn học kỳ")
    .HtmlAttributes(new {style="width:180px"})
    .DataTextField("Text")
    .DataValueField("Value")
    .DataSource(source =>
    {
        source.Read(read =>
        {
            read.Action("GetMoodleHocKy", "MoodleCategory");
        }).ServerFiltering(true);
    })
)

@(Html.Kendo().DropDownList()
    .Name("ChuyenNganh")
    .OptionLabel("Chọn chuyên ngành")
    .HtmlAttributes(new {style="width:260px"})
    .DataTextField("Text")
    .DataValueField("Value")
    .DataSource(source =>
    {
        source.Read(read =>
        {
            read.Action("GetMoodleChuyenNganh", "MoodleCategory").Data("filterHocKy");
        }).ServerFiltering(true);
    })
    //.Events(e =>
    //{
    //    e.Change("loadGrid");
    //})
    .Enable(false)
    .AutoBind(false)
        .CascadeFrom("HocKy")
)

<script type="text/javascript">
    function filterHocKy() {
        return {
            ky_dang_ky: $("#HocKy").val()
        }
    }
</script>